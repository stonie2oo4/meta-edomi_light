{"name":"edomi_light",
    "manufacturer":"edomi",
    "version":1,
    "type":"LIGHT",
    "variables":{
      "MyStatus":"",
      "edomiURI": "10.10.45.7",
      "edomiKOwrite": "3317",
      "edomiKOread": "3318",
      "VolumePlayed":50
    },
    "labels":{
        "CurrentStatus" : {"label":"status", "listen":"MyStatus"}
    },
    "listeners":{
        "edomiStatus" : {"type":"http-get", "command":"http://$edomiURI/remote/?login=remote&pass=remote&koid=$edomiKOread", "pooltime":"3000", "poolduration":"", "queryresult" : "$.", 
          "evalwrite" : [
          {"variable" : "VolumePlayed","value" : "DYNAMIK Math.round(Number(JSON.parse(\"$Result\")[0].volume)*100/255)"}
        ]}
    },
    "buttons":{
      "VOLUME UP": {"label":"", "type":"static", "command":"", "evalwrite":[{"variable":"VolumePlayed","value":"DYNAMIK (Number($VolumePlayed)<95)?Number($VolumePlayed)+5:100"}], "evaldo":[{"test":true, "then":"__VOLUMESET", "or":""}]},
      "VOLUME DOWN": {"label":"", "type":"static", "command":"", "evalwrite":[{"variable":"VolumePlayed","value":"DYNAMIK (Number($VolumePlayed)>5)?Number($VolumePlayed)-5:0"}], "evaldo":[{"test":true, "then":"__VOLUMESET", "or":""}]},      
      "__VOLUMESET": {"label":"", "type":"http-get", "command":"DYNAMIK \"http://$edomiURI/remote/?login=remote&pass=remote&koid=$edomiKOwrite&kovalue=\" + (Math.round(0 + (255 - 0) * Number($VolumePlayed) / 100).toString())"}      
    },
    "sliders":{
        "VOLUME": {"label":"", "unit" : "db", "listen" : "VolumePlayed", "evaldo":[{"test":true, "then":"__VOLUMESET", "or":""}]}
    }
}